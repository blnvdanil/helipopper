{"version":3,"sources":["webpack:///$_lazy_route_resources|lazy|groupOptions: {}|namespace object","webpack:///projects/ngneat/helipopper/src/lib/defaults.ts","webpack:///projects/ngneat/helipopper/src/lib/tippy.directive.ts","webpack:///projects/ngneat/helipopper/src/lib/tippy.module.ts","webpack:///projects/ngneat/helipopper/src/lib/tippy.service.ts","webpack:///projects/ngneat/helipopper/src/lib/tippy.types.ts","webpack:///projects/ngneat/helipopper/src/lib/utils.ts","webpack:///src/app/app-routing.module.ts","webpack:///src/app/app.component.ts","webpack:///src/app/app.component.html","webpack:///src/app/app.module.ts","webpack:///src/app/example/example.component.ts","webpack:///src/app/example/example.component.html","webpack:///src/app/is-visible/isVisible.component.ts","webpack:///src/app/is-visible/isVisible.component.html","webpack:///src/app/playground/playground.component.html","webpack:///src/app/playground/playground.component.ts","webpack:///src/environments/environment.ts","webpack:///src/main.ts"],"names":["webpackEmptyAsyncContext","req","Promise","resolve","then","e","Error","code","keys","id","module","exports","tooltipVariation","theme","arrow","animation","trigger","offset","popperVariation","interactive","withContextMenuVariation","baseVariation","placement","TippyDirective","platformId","globalConfig","injector","viewService","vcr","zone","hostRef","onlyTextOverflow","useHostWidth","hideOnEscape","visible","EventEmitter","isVisible","changed","destroyed","Subject","enabled","variationDefined","changes","isPlatformServer","props","Object","reduce","acc","change","currentValue","variation","isChanged","defaultVariation","variations","isEnabled","setStatus","show","hide","setProps","maxWidth","hostWidth","run","lazy","inView","host","pipe","switchMap","overflowChanges","takeUntil","subscribe","isElementOverflow","checkOverflow","createInstance","next","instance","destroy","destroyView","viewRef","enable","disable","onlyTippyProps","customHost","nativeElement","getBoundingClientRect","width","content","allowHTML","appendTo","document","body","onMount","listenToHostResize","onCreate","className","normalizeClassName","klass","popper","classList","add","onShow","resolveContent","isString","setContent","handleEscapeButton","style","firstElementChild","onHidden","handleContextMenu","viewOptions$","isComponent","Injector","providers","provide","TIPPY_REF","useValue","parent","isTemplateRef","context","$implicit","bind","data","createView","getElement","beforeRender","fromEvent","event","preventDefault","getReferenceClientRect","height","top","clientY","bottom","left","clientX","right","pressButton$","merge","filter","v","element","codeButton","dimensionsChanges","PLATFORM_ID","TIPPY_CONFIG","key","TippyModule","config","ngModule","TippyService","view","options","$viewOptions","InjectionToken","providedIn","factory","coerceElement","ElementRef","supportsIntersectionObserver","supportsResizeObserver","window","root","threshold","Observable","subscriber","complete","observer","IntersectionObserver","entries","entry","length","isIntersecting","observe","disconnect","hostOffsetWidth","offsetWidth","parentElement","scrollWidth","auditTime","map","target","resizeObserverStrategy","ResizeObserver","allProps","tippyProps","ownProps","forEach","prop","includes","classes","split","trim","Boolean","value","routes","path","component","IsVisibleComponent","PlaygroundComponent","AppRoutingModule","RouterModule","relativeLinkResolution","AppComponent","AppModule","BrowserModule","ReactiveFormsModule","tooltip","menu","contextMenu","popperBorder","ExampleComponent","tippy","console","log","visibility","fb","service","tooltipPositions","tooltipAlignments","label","tooltipTypes","tooltipSettings","group","type","control","alignment","position","hideOnEsc","interval$","interval","finalize","items","Array","from","_","i","list","thoughts","isDisabled","text","comp","$event","instance2","create","host2","item","environment","production","enableProdMode","platformBrowser","bootstrapModule","err","error"],"mappings":"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","file":"main-es5.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 8255;\nmodule.exports = webpackEmptyAsyncContext;","import { TippyConfig } from './tippy.types';\n\ntype Variation = TippyConfig['variations'][0];\n\nexport const tooltipVariation: Variation = {\n  theme: null,\n  arrow: false,\n  animation: 'scale',\n  trigger: 'mouseenter',\n  offset: [0, 5]\n};\n\nexport const popperVariation: Variation = {\n  theme: 'light',\n  arrow: true,\n  offset: [0, 10],\n  animation: null,\n  trigger: 'click',\n  interactive: true\n};\n\nexport function withContextMenuVariation(baseVariation: Variation): Variation {\n  return {\n    ...baseVariation,\n    placement: 'right-start',\n    trigger: 'manual',\n    arrow: false,\n    offset: [0, 0]\n  };\n}\n","import {\n  Directive,\n  ElementRef,\n  EventEmitter,\n  Inject,\n  Injector,\n  Input,\n  NgZone,\n  Output,\n  PLATFORM_ID,\n  ViewContainerRef,\n  AfterViewInit,\n  OnChanges,\n  OnDestroy,\n  OnInit\n} from '@angular/core';\nimport { isPlatformServer } from '@angular/common';\nimport tippy from 'tippy.js';\nimport { fromEvent, merge, Subject } from 'rxjs';\nimport { filter, switchMap, takeUntil } from 'rxjs/operators';\nimport { isComponent, isString, isTemplateRef, ViewService, ViewOptions, ViewRef, Content } from '@ngneat/overview';\n\nimport { dimensionsChanges, inView, normalizeClassName, onlyTippyProps, overflowChanges } from './utils';\nimport { NgChanges, TIPPY_CONFIG, TIPPY_REF, TippyConfig, TippyInstance, TippyProps } from './tippy.types';\n\n@Directive({\n  // eslint-disable-next-line @angular-eslint/directive-selector\n  selector: '[tippy]',\n  exportAs: 'tippy'\n})\nexport class TippyDirective implements OnChanges, AfterViewInit, OnDestroy, OnInit {\n  @Input() appendTo: TippyProps['appendTo'];\n  @Input() delay: TippyProps['delay'];\n  @Input() duration: TippyProps['duration'];\n  @Input() hideOnClick: TippyProps['hideOnClick'];\n  @Input() interactive: TippyProps['interactive'];\n  @Input() interactiveBorder: TippyProps['interactiveBorder'];\n  @Input() maxWidth: TippyProps['maxWidth'];\n  @Input() offset: TippyProps['offset'];\n  @Input() placement: TippyProps['placement'];\n  @Input() popperOptions: TippyProps['popperOptions'];\n  @Input() showOnCreate: TippyProps['showOnCreate'];\n  @Input() trigger: TippyProps['trigger'];\n  @Input() triggerTarget: TippyProps['triggerTarget'];\n  @Input() zIndex: TippyProps['zIndex'];\n\n  @Input() lazy: boolean;\n  @Input() variation: string;\n  @Input() isEnabled: boolean;\n  @Input() className: string | string[];\n  @Input() onlyTextOverflow = false;\n  @Input() data: any;\n  @Input() useHostWidth = false;\n  @Input() hideOnEscape = false;\n  @Input('tippy') content: Content;\n  @Input('tippyHost') customHost: HTMLElement;\n\n  @Output() visible = new EventEmitter<boolean>();\n  @Input() public isVisible = false;\n\n  @Output() changed: EventEmitter<any> = new EventEmitter<any>();\n\n  private instance: TippyInstance;\n  private viewRef: ViewRef;\n  private destroyed = new Subject<void>();\n  private props: Partial<TippyConfig>;\n  private enabled = true;\n  private variationDefined = false;\n  private viewOptions$: ViewOptions;\n  constructor(\n    @Inject(PLATFORM_ID) private platformId: string,\n    @Inject(TIPPY_CONFIG) private globalConfig: TippyConfig,\n    private injector: Injector,\n    private viewService: ViewService,\n    private vcr: ViewContainerRef,\n    private zone: NgZone,\n    private hostRef: ElementRef\n  ) {}\n\n  ngOnChanges(changes: NgChanges<TippyDirective>) {\n    if (isPlatformServer(this.platformId)) return;\n\n    let props: Partial<TippyConfig> = Object.keys(changes).reduce((acc, change) => {\n      if (change === 'isVisible') return acc;\n\n      acc[change] = changes[change].currentValue;\n\n      return acc;\n    }, {});\n\n    let variation: string;\n\n    if (isChanged<NgChanges<TippyDirective>>('variation', changes)) {\n      variation = changes.variation.currentValue;\n      this.variationDefined = true;\n    } else if (!this.variationDefined) {\n      variation = this.globalConfig.defaultVariation;\n      this.variationDefined = true;\n    }\n\n    if (variation) {\n      props = {\n        ...this.globalConfig.variations[variation],\n        ...props\n      };\n    }\n\n    if (isChanged<NgChanges<TippyDirective>>('isEnabled', changes)) {\n      this.enabled = changes.isEnabled.currentValue;\n      this.setStatus();\n    }\n\n    if (isChanged<NgChanges<TippyDirective>>('isVisible', changes)) {\n      this.isVisible ? this.show() : this.hide();\n    }\n\n    this.setProps(props);\n  }\n\n  ngOnInit() {\n    if (this.useHostWidth) {\n      this.props.maxWidth = this.hostWidth;\n    }\n  }\n\n  ngAfterViewInit() {\n    this.zone.run(() => {\n      if (this.lazy) {\n        if (this.onlyTextOverflow) {\n          inView(this.host)\n            .pipe(\n              switchMap(() => overflowChanges(this.host)),\n              takeUntil(this.destroyed)\n            )\n            .subscribe(isElementOverflow => {\n              this.checkOverflow(isElementOverflow);\n            });\n        } else {\n          inView(this.host)\n            .pipe(takeUntil(this.destroyed))\n            .subscribe(() => {\n              this.createInstance();\n            });\n        }\n      } else if (this.onlyTextOverflow) {\n        overflowChanges(this.host)\n          .pipe(takeUntil(this.destroyed))\n          .subscribe(isElementOverflow => {\n            this.checkOverflow(isElementOverflow);\n          });\n      } else {\n        this.createInstance();\n      }\n    });\n  }\n\n  ngOnDestroy() {\n    this.destroyed.next();\n    this.instance?.destroy();\n    this.destroyView();\n  }\n\n  destroyView() {\n    this.viewRef?.destroy();\n    this.viewRef = null;\n  }\n\n  show() {\n    this.instance?.show();\n  }\n\n  hide() {\n    this.instance?.hide();\n  }\n\n  enable() {\n    this.instance?.enable();\n  }\n\n  disable() {\n    this.instance?.disable();\n  }\n\n  private setProps(props: Partial<TippyConfig>) {\n    this.props = props;\n    this.instance?.setProps(onlyTippyProps(props));\n  }\n\n  private setStatus() {\n    this.enabled ? this.instance?.enable() : this.instance?.disable();\n  }\n\n  private get host(): HTMLElement {\n    return this.customHost || this.hostRef.nativeElement;\n  }\n\n  private get hostWidth(): string {\n    return `${this.host.getBoundingClientRect().width}px`;\n  }\n\n  private createInstance() {\n    if (this.content == null) {\n      return;\n    }\n\n    this.zone.run(() => {\n      this.instance = tippy(this.host, {\n        allowHTML: true,\n        appendTo: document.body,\n        ...onlyTippyProps(this.globalConfig),\n        ...onlyTippyProps(this.props),\n        onMount: instance => {\n          this.isVisible = true;\n          this.visible.next(true);\n          this.useHostWidth && this.listenToHostResize();\n          this.globalConfig.onMount?.(instance);\n        },\n        onCreate: instance => {\n          if (this.className) {\n            for (const klass of normalizeClassName(this.className)) {\n              instance.popper.classList.add(klass);\n            }\n          }\n          this.globalConfig.onCreate?.(instance);\n          if (this.isVisible === true) {\n            instance.show();\n          }\n        },\n        onShow: instance => {\n          this.zone.run(() => {\n            const content = this.resolveContent();\n            if (isString(content)) {\n              instance.setProps({ allowHTML: false });\n            }\n            instance.setContent(content);\n            this.hideOnEscape && this.handleEscapeButton();\n          });\n          if (this.useHostWidth) {\n            // Don't access `hostWidth` multiple times since it's a getter that calls `getBoundingClientRect()`,\n            // which triggers the whole layout update.\n            const hostWidth = this.hostWidth;\n            instance.popper.style.width = hostWidth;\n            instance.popper.style.maxWidth = hostWidth;\n            (instance.popper.firstElementChild as HTMLElement).style.maxWidth = hostWidth;\n          }\n          this.globalConfig.onShow?.(instance);\n        },\n        onHidden: instance => {\n          this.destroyView();\n          this.isVisible = false;\n          this.visible.next(false);\n          this.globalConfig.onHidden?.(instance);\n        }\n      });\n\n      this.setStatus();\n      this.setProps(this.props);\n\n      this.variation === 'contextMenu' && this.handleContextMenu();\n    });\n  }\n\n  private resolveContent() {\n    if (!this.viewOptions$ && !isString(this.content)) {\n      if (isComponent(this.content)) {\n        this.viewOptions$ = {\n          injector: Injector.create({\n            providers: [{ provide: TIPPY_REF, useValue: this.instance }],\n            parent: this.injector\n          })\n        };\n      } else if (isTemplateRef(this.content)) {\n        this.viewOptions$ = {\n          context: {\n            $implicit: this.hide.bind(this),\n            data: this.data\n          }\n        };\n      }\n    }\n\n    this.viewRef = this.viewService.createView(this.content, {\n      vcr: this.vcr,\n      ...this.viewOptions$\n    });\n\n    let content = this.viewRef.getElement();\n\n    if (isString(content) && this.globalConfig.beforeRender) {\n      content = this.globalConfig.beforeRender(content);\n    }\n\n    return content;\n  }\n\n  private handleContextMenu() {\n    fromEvent(this.host, 'contextmenu')\n      .pipe(takeUntil(this.destroyed))\n      .subscribe((event: MouseEvent) => {\n        event.preventDefault();\n\n        this.instance.setProps({\n          getReferenceClientRect: () => ({\n            width: 0,\n            height: 0,\n            top: event.clientY,\n            bottom: event.clientY,\n            left: event.clientX,\n            right: event.clientX\n          })\n        });\n\n        this.instance.show();\n      });\n  }\n\n  private handleEscapeButton() {\n    this.pressButton$(document.body, 'Escape')\n      .pipe(takeUntil(merge(this.destroyed, this.visible.pipe(filter(v => !v)))))\n      .subscribe(() => this.hide());\n  }\n\n  private pressButton$(element: HTMLElement, codeButton: string) {\n    return fromEvent(element, 'keydown').pipe(filter(({ code }: KeyboardEvent) => codeButton === code));\n  }\n\n  private checkOverflow(isElementOverflow: boolean) {\n    if (isElementOverflow) {\n      if (!this.instance) {\n        this.createInstance();\n      } else {\n        this.instance.enable();\n      }\n    } else {\n      this.instance?.disable();\n    }\n  }\n\n  private listenToHostResize() {\n    dimensionsChanges(this.host)\n      .pipe(takeUntil(merge(this.destroyed, this.visible)))\n      .subscribe(() => {\n        this.instance.popper.style.width = this.hostWidth;\n      });\n  }\n}\n\nfunction isChanged<T>(key: keyof T, changes: T) {\n  return key in changes;\n}\n","import { ModuleWithProviders, NgModule } from '@angular/core';\nimport { TippyDirective } from './tippy.directive';\nimport { TIPPY_CONFIG, TippyConfig } from './tippy.types';\n\n@NgModule({\n  declarations: [TippyDirective],\n  exports: [TippyDirective]\n})\nexport class TippyModule {\n  static forRoot(config: Partial<TippyConfig> = {}): ModuleWithProviders<TippyModule> {\n    return {\n      ngModule: TippyModule,\n      providers: [\n        {\n          provide: TIPPY_CONFIG,\n          useValue: config\n        }\n      ]\n    };\n  }\n}\n","import { Inject, Injectable, Injector } from '@angular/core';\nimport tippy from 'tippy.js';\nimport { isComponent, isTemplateRef, ViewService } from '@ngneat/overview';\nimport { Content } from '@ngneat/overview';\nimport { CreateOptions, TIPPY_CONFIG, TIPPY_REF, TippyConfig, TippyInstance } from './tippy.types';\nimport { normalizeClassName, onlyTippyProps } from './utils';\n\n@Injectable({ providedIn: 'root' })\nexport class TippyService {\n  constructor(\n    @Inject(TIPPY_CONFIG) private globalConfig: TippyConfig,\n    private view: ViewService,\n    private injector: Injector\n  ) {}\n\n  create(host: Element, content: Content, options: Partial<CreateOptions> = {}): TippyInstance {\n    const config = {\n      onShow: instance => {\n        if (!instance.$viewOptions) {\n          instance.$viewOptions = {};\n\n          if (isTemplateRef(content)) {\n            instance.$viewOptions.context = {\n              $implicit: instance.hide.bind(instance),\n              ...options.context\n            };\n          } else if (isComponent(content)) {\n            instance.$viewOptions.injector = Injector.create({\n              providers: [{ provide: TIPPY_REF, useValue: instance }],\n              parent: options.injector || this.injector\n            });\n          }\n        }\n        instance.view = this.view.createView(content, { ...options, ...instance.$viewOptions });\n        instance.setContent(instance.view.getElement());\n        options?.onShow?.(instance);\n      },\n      onHidden: instance => {\n        instance.view.destroy();\n        options?.onHidden?.(instance);\n        instance.view = null;\n      },\n      ...onlyTippyProps(this.globalConfig),\n      ...this.globalConfig.variations[options.variation || this.globalConfig.defaultVariation],\n      ...onlyTippyProps(options),\n      onCreate: instance => {\n        if (options.className) {\n          for (const klass of normalizeClassName(options.className)) {\n            instance.popper.classList.add(klass);\n          }\n        }\n        this.globalConfig.onCreate?.(instance);\n        options.onCreate?.(instance);\n      }\n    };\n\n    return tippy(host, config);\n  }\n}\n","import { Instance, Props } from 'tippy.js';\nimport { ElementRef, InjectionToken } from '@angular/core';\nimport { ViewOptions } from '@ngneat/overview';\n\nexport interface CreateOptions extends Partial<TippyProps>, ViewOptions {\n  variation: string;\n  className: string | string[];\n}\n\nexport type NgChanges<Component extends object, Props = ExcludeFunctions<Component>> = {\n  [Key in keyof Props]: {\n    previousValue: Props[Key];\n    currentValue: Props[Key];\n    firstChange: boolean;\n    isFirstChange(): boolean;\n  };\n};\n\ntype MarkFunctionPropertyNames<Component> = {\n  [Key in keyof Component]: Component[Key] extends Function ? never : Key;\n}[keyof Component];\n\ntype ExcludeFunctions<T extends object> = Pick<T, MarkFunctionPropertyNames<T>>;\n\nexport const TIPPY_CONFIG = new InjectionToken<Partial<TippyConfig>>('Tippy config', {\n  providedIn: 'root',\n  factory() {\n    return {};\n  }\n});\nexport const TIPPY_REF = new InjectionToken('TIPPY_REF');\n\nexport type TippyInstance = Instance;\nexport type TippyProps = Props;\n\nexport interface TippyConfig extends TippyProps {\n  variations: Record<string, Partial<TippyProps>>;\n  defaultVariation: keyof TippyConfig['variations'];\n  beforeRender?: (text: string) => string;\n}\n\nexport function coerceElement(element: TippyElement) {\n  return element instanceof ElementRef ? element.nativeElement : element;\n}\n\nexport type TippyElement = ElementRef | Element;\n","import { Observable } from 'rxjs';\nimport { auditTime, map } from 'rxjs/operators';\nimport { coerceElement, TippyElement } from './tippy.types';\n\ndeclare const ResizeObserver: any;\n\nlet supportsIntersectionObserver = false;\nlet supportsResizeObserver = false;\n\nif (typeof window !== 'undefined') {\n  supportsIntersectionObserver = 'IntersectionObserver' in window;\n  supportsResizeObserver = 'ResizeObserver' in window;\n}\n\nexport function inView(\n  host: TippyElement,\n  options: IntersectionObserverInit = {\n    root: null,\n    threshold: 0.3\n  }\n) {\n  const element = coerceElement(host);\n\n  return new Observable(subscriber => {\n    if (!supportsIntersectionObserver) {\n      subscriber.next();\n      subscriber.complete();\n      return;\n    }\n\n    const observer = new IntersectionObserver(entries => {\n      // Several changes may occur in the same tick, we want to check the latest entry state.\n      const entry = entries[entries.length - 1];\n      if (entry.isIntersecting) {\n        subscriber.next();\n        subscriber.complete();\n      }\n    }, options);\n\n    observer.observe(element);\n\n    return () => observer.disconnect();\n  });\n}\n\nfunction isElementOverflow(host: HTMLElement): boolean {\n  // Don't access the `offsetWidth` multipe times since it triggers layout updates.\n  const hostOffsetWidth = host.offsetWidth;\n  return hostOffsetWidth > host.parentElement.offsetWidth || hostOffsetWidth < host.scrollWidth;\n}\n\nexport function overflowChanges(host: TippyElement) {\n  const element = coerceElement(host);\n\n  return dimensionsChanges(element).pipe(\n    auditTime(150),\n    map(() => isElementOverflow(element))\n  );\n}\n\nexport function dimensionsChanges(target: HTMLElement) {\n  return resizeObserverStrategy(target);\n}\n\nfunction resizeObserverStrategy(target: HTMLElement): Observable<boolean> {\n  return new Observable(subscriber => {\n    if (!supportsResizeObserver) {\n      subscriber.next();\n      subscriber.complete();\n      return;\n    }\n\n    const observer = new ResizeObserver(() => subscriber.next(true));\n    observer.observe(target);\n    return () => observer.disconnect();\n  });\n}\n\nexport function onlyTippyProps(allProps: any) {\n  const tippyProps = {};\n\n  const ownProps = [\n    'variations',\n    'useHostWidth',\n    'defaultVariation',\n    'beforeRender',\n    'lazy',\n    'variation',\n    'isEnabled',\n    'className',\n    'onlyTextOverflow',\n    'data',\n    'content',\n    'hideOnEscape',\n    'customHost'\n  ];\n\n  Object.keys(allProps).forEach(prop => {\n    if (!ownProps.includes(prop)) {\n      tippyProps[prop] = allProps[prop];\n    }\n  });\n\n  return tippyProps;\n}\n\nexport function normalizeClassName(className: string | string[]): string[] {\n  const classes = isString(className) ? className.split(' ') : className;\n\n  return classes.map(klass => klass?.trim()).filter(Boolean);\n}\n\nfunction isString(value: unknown): value is string {\n  return typeof value === 'string';\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { IsVisibleComponent } from './is-visible/isVisible.component';\nimport { PlaygroundComponent } from './playground/playground.component';\n\nconst routes: Routes = [\n  { path: 'is-visible', component: IsVisibleComponent },\n  { path: '**', component: PlaygroundComponent }\n];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes, { relativeLinkResolution: 'legacy' })],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule {}\n","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n})\nexport class AppComponent {}\n","<router-outlet></router-outlet>\n","import { BrowserModule } from \"@angular/platform-browser\";\nimport { NgModule } from \"@angular/core\";\n\nimport { AppRoutingModule } from \"./app-routing.module\";\nimport { AppComponent } from \"./app.component\";\nimport { ReactiveFormsModule } from \"@angular/forms\";\nimport { ExampleComponent } from \"./example/example.component\";\nimport { popperVariation, TippyModule, tooltipVariation, withContextMenuVariation } from \"@ngneat/helipopper\";\nimport { PlaygroundComponent } from \"./playground/playground.component\";\nimport { IsVisibleComponent } from \"./is-visible/isVisible.component\";\n\n@NgModule({\n  declarations: [AppComponent, ExampleComponent, PlaygroundComponent, ExampleComponent, IsVisibleComponent],\n  imports: [\n    BrowserModule,\n    AppRoutingModule,\n    ReactiveFormsModule,\n    TippyModule.forRoot({\n      defaultVariation: \"tooltip\",\n      variations: {\n        tooltip: tooltipVariation,\n        popper: popperVariation,\n        menu: {\n          ...popperVariation,\n          appendTo: \"parent\",\n          arrow: false,\n          offset: [0, 0]\n        },\n        contextMenu: withContextMenuVariation(popperVariation),\n        popperBorder: {\n          ...popperVariation,\n          theme: \"light-border\"\n        }\n      }\n    })\n  ],\n  providers: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule {}\n","import { Component, Inject, OnDestroy, OnInit } from \"@angular/core\";\nimport { TIPPY_REF, TippyInstance } from \"@ngneat/helipopper\";\n\n@Component({\n  selector: \"app-example\",\n  templateUrl: \"./example.component.html\",\n  styleUrls: [\"./example.component.scss\"]\n})\nexport class ExampleComponent implements OnInit, OnDestroy {\n  constructor(@Inject(TIPPY_REF) tippy: TippyInstance) {\n    console.log(tippy);\n  }\n\n  ngOnInit(): void {\n    console.log(\"ngOnInit\");\n  }\n\n  ngOnDestroy() {\n    console.log(\"ngOnDestroy\");\n  }\n}\n","<p>example works!</p>\n","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-is-visible',\n  templateUrl: './isVisible.component.html',\n  styleUrls: ['./isVisible.component.scss']\n})\nexport class IsVisibleComponent {\n  visibility = true;\n}\n","<h6>Declaritive visibility (already set true before render in the component)</h6>\n\n<div class=\"btn-container\">\n  <button\n    tippy=\"I'm a declarative tooltip\"\n    variation=\"tooltip\"\n    trigger=\"click\"\n    className=\"declarativeTooltip\"\n    class=\"btn btn-outline-secondary\"\n    [isVisible]=\"visibility\"\n    data-cy=\"tippy-reference-declarative\"\n  >\n    Declaritive Tooltip\n  </button>\n</div>\n\n<button (click)=\"visibility = !visibility\" data-cy=\"trigger-declarative\" class=\"btn btn-outline-info btn-sm mt-2\">\n  Toggle tooltip\n</button>\n\n<hr />\n","<!--<button (click)=\"show = !show\">Toggle All</button>-->\n\n<ng-container *ngIf=\"show\">\n  <div id=\"tippy-playground\" [formGroup]=\"tooltipSettings\" style=\"text-transform: capitalize\">\n    <div *ngFor=\"let option of tooltipTypes\" class=\"flex items-center\">\n      <input type=\"radio\" formControlName=\"type\" name=\"type\" [value]=\"option\" class=\"mr-4\" />\n      {{ option }}\n    </div>\n\n    <hr />\n\n    <div *ngFor=\"let option of tooltipPositions\" class=\"flex items-center\">\n      <input type=\"radio\" formControlName=\"position\" name=\"position\" [value]=\"option\" class=\"mr-4\" />{{ option }}\n    </div>\n\n    <hr />\n\n    <div *ngFor=\"let option of tooltipAlignments\" class=\"flex items-center\">\n      <input type=\"radio\" formControlName=\"alignment\" name=\"alignment\" [value]=\"option.value\" class=\"mr-4\" />{{\n        option.label\n      }}\n    </div>\n\n    <hr />\n\n    <label>\n      <input type=\"checkbox\" formControlName=\"hideOnEsc\" id=\"hideOnEsc-toggle\" class=\"mr-4\" /> Hide on press escape\n      button\n    </label>\n\n    <div class=\"btn-container\">\n      <button\n        class=\"btn btn-outline-primary\"\n        tippy=\"Helpful Message\"\n        [placement]=\"tooltipPosition\"\n        [variation]=\"tooltipType\"\n        [hideOnEscape]=\"hideOnEsc\"\n      >\n        I have a tooltip\n      </button>\n    </div>\n  </div>\n\n  <hr />\n\n  <h6>Default variation</h6>\n\n  <div class=\"btn-container\">\n    <button tippy=\"Default tooltip\" class=\"btn btn-outline-secondary\">Click Me</button>\n  </div>\n\n  <hr />\n\n  <div>\n    <h6>NIL values</h6>\n\n    <div class=\"btn-container\" id=\"tippy-value-non-nil\">\n      <button\n        [tippy]=\"'I have a tooltip value different from nil'\"\n        variation=\"popper\"\n        class=\"btn btn-outline-secondary\"\n      >\n        Click me to see my tooltip\n      </button>\n    </div>\n\n    <div class=\"btn-container\" id=\"tippy-value-null\">\n      <button [tippy]=\"null\" variation=\"popper\" class=\"btn btn-outline-secondary\">\n        Click me but I won't show a tooltip\n      </button>\n    </div>\n\n    <div class=\"btn-container\" id=\"tippy-value-undefined\">\n      <button [tippy]=\"undefined\" variation=\"popper\" class=\"btn btn-outline-secondary\">\n        Click me but I won't show a tooltip\n      </button>\n    </div>\n  </div>\n\n  <hr />\n\n  <div>\n    <h6>Custom Template</h6>\n\n    <div class=\"btn-container\" id=\"custom-template\">\n      <button [tippy]=\"tpl\" variation=\"popper\" class=\"btn btn-outline-secondary\" #tippy2=\"tippy\">Click Me</button>\n      Visible: {{ tippy2.isVisible }}\n    </div>\n\n    <ng-template #tpl let-hide>\n      <div *ngFor=\"let item of tooltipPositions\" class=\"positions\">\n        {{ item }}\n      </div>\n    </ng-template>\n\n    <hr />\n\n    <h6>ng-container</h6>\n    <div class=\"btn-container\">\n      <button [tippy]=\"tpl2\" variation=\"popper\" class=\"btn btn-outline-secondary\">Click Me</button>\n    </div>\n\n    <ng-template #tpl2>\n      <ng-container>\n        <div>Hello</div>\n      </ng-container>\n    </ng-template>\n  </div>\n\n  <hr />\n\n  <div id=\"custom-component\">\n    <h6>Custom Component</h6>\n\n    <div class=\"btn-container\">\n      <button class=\"btn btn-outline-danger\" [tippy]=\"comp\" variation=\"popper\" (visible)=\"handleStatus($event)\">\n        Open component\n      </button>\n    </div>\n  </div>\n\n  <hr />\n\n  <div id=\"manual-trigger\" class=\"block\">\n    <h6>Manual Trigger</h6>\n\n    <div class=\"btn-container items-center\">\n      <p tippy=\"Helpful Message\" trigger=\"manual\" #tippy=\"tippy\" class=\"mr-4\">Click open to see me</p>\n\n      <button (click)=\"tippy.show()\" class=\"btn btn-outline-dark\">Open</button>\n      <button (click)=\"tippy.hide()\" class=\"btn btn-outline-dark\">Close</button>\n    </div>\n  </div>\n\n  <hr />\n\n  <div id=\"lazy\">\n    <h6>Lazy</h6>\n    <div style=\"height: 300px; overflow-y: auto\">\n      <div *ngFor=\"let item of items\" [tippy]=\"item.label\" [lazy]=\"true\">{{ item.label }}</div>\n    </div>\n  </div>\n\n  <hr />\n\n  <div id=\"disabled\">\n    <h6>Disabled</h6>\n\n    <div class=\"btn-container\">\n      <button [isEnabled]=\"!isDisabled\" tippy=\"Tooltip\" class=\"btn btn-outline-dark\">Element</button>\n    </div>\n\n    <button (click)=\"toggle()\" class=\"btn btn-outline-primary btn-sm\">{{ isDisabled ? 'Enable' : 'Disable' }}</button>\n  </div>\n\n  <hr />\n\n  <div id=\"text-overflow\">\n    <h6>Text Overflow</h6>\n\n    <p>Start with overflow and change to not overflow</p>\n    <div style=\"max-width: 100px;\" class=\"overflow-hidden flex\">\n      <p class=\"ellipsis\" [tippy]=\"text\" placement=\"right\" [onlyTextOverflow]=\"true\">\n        {{ text }}\n      </p>\n    </div>\n\n    <button (click)=\"changeContent()\" class=\"btn btn-outline-info btn-sm mt-2\">Change content</button>\n\n    <hr />\n\n    <p>Start with not overflow and change to overflow</p>\n    <div [style.maxWidth.px]=\"maxWidth\" class=\"overflow-hidden flex\">\n      <p class=\"ellipsis\" [tippy]=\"text\" placement=\"right\" [onlyTextOverflow]=\"true\">\n        {{ text }}\n      </p>\n    </div>\n\n    <button (click)=\"maxWidth = 100\" class=\"btn btn-outline-info btn-sm mt-2\">Change width</button>\n  </div>\n\n  <hr />\n\n  <h6>Show on Create</h6>\n\n  <div class=\"btn-container\">\n    <button tippy=\"Shown immediately when created\" [showOnCreate]=\"true\" class=\"btn btn-outline-secondary\">\n      Show on Create\n    </button>\n  </div>\n\n  <hr />\n\n  <h6>Declaritive visibility (already set true before render in the component)</h6>\n\n  <div class=\"btn-container\">\n    <button\n      tippy=\"I'm a declarative tooltip\"\n      variation=\"tooltip\"\n      trigger=\"click\"\n      className=\"declarativeTooltip\"\n      class=\"btn btn-outline-secondary\"\n      [isVisible]=\"visibility\"\n      data-cy=\"tippy-reference-declarative\"\n    >\n      Declaritive Tooltip\n    </button>\n  </div>\n\n  <button (click)=\"visibility = !visibility\" data-cy=\"trigger-declarative\" class=\"btn btn-outline-info btn-sm mt-2\">\n    Toggle tooltip\n  </button>\n\n  <hr />\n\n  <div id=\"service\">\n    <h6>Using the Service</h6>\n\n    <div class=\"btn-container\">\n      <button class=\"btn btn-outline-dark\" (click)=\"useService(host)\" #host>Text</button>\n      <button class=\"btn btn-outline-dark\" (click)=\"useServiceComponent(host2)\" #host2>Component</button>\n    </div>\n  </div>\n\n  <ng-template #contextMenu let-hide let-item=\"data\">\n    <ul class=\"list-group list-group-flush\">\n      <li class=\"list-group-item\" (click)=\"copy(item); hide()\">Copy</li>\n      <li class=\"list-group-item\" (click)=\"duplicate(item); hide()\">Duplicate</li>\n    </ul>\n  </ng-template>\n\n  <div id=\"context-menu\">\n    <h6>Context menu</h6>\n\n    <ul class=\"list-group\">\n      <li class=\"list-group-item\" *ngFor=\"let item of list\" [tippy]=\"contextMenu\" [data]=\"item\" variation=\"contextMenu\">\n        {{ item.label }}\n      </li>\n    </ul>\n  </div>\n\n  <hr />\n\n  <div>\n    <h6>Use host width</h6>\n    <div class=\"flex\">\n      <input\n        style=\"flex: 1; max-width: 600px\"\n        type=\"text\"\n        placeholder=\"host width\"\n        tippy=\"hello world\"\n        variation=\"menu\"\n        useHostWidth=\"true\"\n      />\n    </div>\n  </div>\n\n  <hr />\n\n  <div>\n    <h6>Menu</h6>\n\n    <div class=\"dropdown\">\n      <button class=\"btn btn-secondary dropdown-toggle\" type=\"button\" [tippy]=\"one\" variation=\"menu\">\n        Dropdown button\n      </button>\n\n      <ng-template #one>\n        <div>\n          <a class=\"dropdown-item\" href=\"#\">Action</a>\n          <a class=\"dropdown-item\" href=\"#\" [tippy]=\"two\" placement=\"right\" variation=\"menu\" trigger=\"mouseenter\"\n            >Another action</a\n          >\n          <a class=\"dropdown-item\" href=\"#\">Something else here</a>\n        </div>\n      </ng-template>\n\n      <ng-template #two>\n        <div>\n          <a class=\"dropdown-item\" href=\"#\">Action 2</a>\n          <a class=\"dropdown-item\" href=\"#\">Another action 2</a>\n          <a class=\"dropdown-item\" href=\"#\" [tippy]=\"three\" placement=\"right\" variation=\"menu\" trigger=\"mouseenter\"\n            >Something else here 2</a\n          >\n        </div>\n      </ng-template>\n\n      <ng-template #three>\n        <div>\n          <a class=\"dropdown-item\" href=\"#\">Action 3</a>\n          <a class=\"dropdown-item\" href=\"#\">Another action 3</a>\n          <a class=\"dropdown-item\" href=\"#\">Something else here 3</a>\n        </div>\n      </ng-template>\n    </div>\n  </div>\n</ng-container>\n\n<div>\n  <h6>Sanitize</h6>\n\n  <input\n    style=\"max-width: 600px\"\n    type=\"text\"\n    placeholder=\"Sanitize\"\n    tippy=\"<img src='empty.gif' onerror='alert(1);' />\"\n  />\n</div>\n\n<hr />\n","import { Component, ElementRef, ViewChild } from '@angular/core';\nimport { FormBuilder } from '@angular/forms';\nimport { ExampleComponent } from '../example/example.component';\nimport { interval } from 'rxjs';\nimport { finalize } from 'rxjs/operators';\nimport { TippyInstance, TippyService } from '@ngneat/helipopper';\n\n@Component({\n  selector: 'app-is-visible',\n  templateUrl: './playground.component.html',\n  styleUrls: ['./playground.component.scss']\n})\nexport class PlaygroundComponent {\n  tooltipPositions = ['auto', 'top', 'right', 'bottom', 'left'];\n  tooltipAlignments = [\n    { label: 'start', value: '-start' },\n    { label: 'center', value: '' },\n    { label: 'end', value: '-end' }\n  ];\n\n  tooltipTypes = ['popper', 'tooltip', 'popperBorder'];\n\n  tooltipSettings = this.fb.group({\n    type: this.fb.control('tooltip'),\n    alignment: this.fb.control(''),\n    position: this.fb.control('top'),\n    hideOnEsc: this.fb.control(false)\n  });\n\n  interval$ = interval(1000).pipe(finalize(() => console.log('interval completed')));\n\n  get tooltipPosition(): string {\n    const { position, alignment } = this.tooltipSettings.value;\n\n    return `${position}${alignment}`;\n  }\n\n  get tooltipType(): string {\n    return this.tooltipSettings.value.type;\n  }\n\n  get hideOnEsc(): boolean {\n    return this.tooltipSettings.value.hideOnEsc;\n  }\n\n  items = Array.from({ length: 500 }, (_, i) => ({\n    id: i,\n    label: `Value ${i + 1}`\n  }));\n\n  list = Array.from({ length: 5 }, (_, i) => ({\n    id: i,\n    label: `Value ${i + 1}`\n  }));\n\n  thoughts = 'We just need someone to talk to 🥺';\n  isDisabled = false;\n  text = `Long Long All Text`;\n  comp = ExampleComponent;\n\n  changeContent() {\n    this.text = this.text === `Long Long All Text` ? `Short` : `Long Long All Text`;\n  }\n\n  constructor(private fb: FormBuilder, private service: TippyService) {}\n\n  @ViewChild('inputName', { static: true }) inputName: ElementRef;\n  @ViewChild('inputNameComp', { static: true }) inputNameComp: ElementRef;\n  maxWidth = 300;\n  show = true;\n\n  toggle() {\n    this.isDisabled = !this.isDisabled;\n  }\n\n  handleStatus($event: boolean): void {\n    console.log('show tooltip', $event);\n  }\n\n  instance2: TippyInstance;\n\n  useService(host: HTMLButtonElement) {\n    if (!this.instance2) {\n      this.instance2 = this.service.create(host, 'Created');\n    }\n  }\n\n  instance: TippyInstance;\n\n  useServiceComponent(host2: HTMLButtonElement) {\n    if (!this.instance) {\n      this.instance = this.service.create(host2, ExampleComponent, {\n        variation: 'popper'\n      });\n    }\n  }\n\n  duplicate(item: any) {\n    console.log('duplicate', item);\n  }\n\n  copy(item: any) {\n    console.log('copy', item);\n  }\n\n  visibility = false;\n}\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/plugins/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"]}